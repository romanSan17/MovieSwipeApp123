<?xml version="1.0" encoding="utf-8"?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MovieSwipeApp.Views.MainPage"
    Title="Ð¤Ð¸Ð»ÑŒÐ¼Ñ‹">

    <Grid RowDefinitions="Auto,*,Auto,Auto" Padding="12" RowSpacing="12">

        <!-- Ð–Ð°Ð½Ñ€Ñ‹ + ÐºÐ½Ð¾Ð¿ÐºÐ° ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ -->
        <HorizontalStackLayout Grid.Row="0" Spacing="8">
            <Picker
        x:Name="GenrePicker"
        WidthRequest="150"
        Title="Ð–Ð°Ð½Ñ€"
        SelectedIndexChanged="OnGenreChanged" />
            <Button
        Text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ"
        Clicked="OnProfile" />
        </HorizontalStackLayout>

        <!-- Ð¡Ð»Ð°Ð¹Ð´ÐµÑ€ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐµÐº Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð² -->
        <CarouselView
      x:Name="MovieCarousel"
      Grid.Row="1"
      ItemsSource="{Binding Movies}"
      IndicatorView="{x:Reference Indicator}">
            <CarouselView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="16" CornerRadius="12" HasShadow="True" Margin="0,12">
                        <Grid RowDefinitions="* ,Auto" ColumnDefinitions="*">

                            <!-- ÐŸÐ¾ÑÑ‚ÐµÑ€ Ñ„Ð¸Ð»ÑŒÐ¼Ð° -->
                            <Image
                Source="{Binding PosterUrl}"
                Aspect="AspectFill"
                Grid.Row="0"
                HeightRequest="200"
                WidthRequest="140" />

                            <!-- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð²ÐµÑ€Ñ… ÑÐ½Ð¸Ð·Ñƒ -->
                            <Label
                Grid.Row="1"
                Text="{Binding Title}"
                BackgroundColor="#80000000"
                TextColor="White"
                Padding="8,4"
                HorizontalOptions="Fill"
                FontSize="20" />
                        </Grid>
                    </Frame>
                </DataTemplate>
            </CarouselView.ItemTemplate>
        </CarouselView>

        <!-- Ð¢Ð¾Ñ‡ÐºÐ¸-Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ -->
        <IndicatorView
      x:Name="Indicator"
      Grid.Row="2"
      HorizontalOptions="Center"
      IndicatorColor="Gray"
      SelectedIndicatorColor="Black" />

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð½Ðµ Ð½Ñ€Ð°Ð²Ð¸Ñ‚ÑÑ / Ð½Ñ€Ð°Ð²Ð¸Ñ‚ÑÑ -->
        <HorizontalStackLayout
      Grid.Row="3"
      Spacing="40"
      HorizontalOptions="Center">
            <Button
        Text="ðŸ‘Ž"
        Clicked="OnDislikeClicked" />
            <Button
        Text="ðŸ‘"
        Clicked="OnLikeClicked" />
        </HorizontalStackLayout>

    </Grid>
</ContentPage>
